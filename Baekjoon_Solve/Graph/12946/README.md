## [골3] 육각 보드 (12946번)

https://www.acmicpc.net/problem/12946

### 문제 유형

그래프 이론, 그래프 탐색, 브루트포스, DFS, BFS

<br>

### 어려웠던 점 / 문제의 핵심

문제를 접근하는 아이디어가 핵심인 문제이다.

`N`이 얼마나 크든지 간에 `최대 3 종류의 색으로 모든 칸을 칠할 수 있다.`

다음과 같이 색칠 가능한 곳 3개가 밀집되어 있는 곳이 있으면 무조건 3 종류의 색으로 칠하면 된다.

![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/31a9db3a-18ae-458c-a68f-b948f0480941)

문제는 저렇게 3개 밀집된 곳이 없는 경우이다. 이 경우에는 `1개로 색칠이 가능한가?`, `2개로 색칠이 가능한가?`를 따져봐야 한다.

1개로 색칠이 가능하다면 1을 반환하고 더 이상 탐색하지 않아도 된다.

2개로 색칠이 가능하다면 2를 반환하고 더 이상 탐색하지 않아도 된다.

불가능하다면 3개로는 어떤 경우라도 다 색칠할 수 있기 때문에 3을 반환하면 된다.

![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/c5d11d80-be62-4db9-b14f-b97f52f3adfd)

#### 내가 실수했던 점

`X`인 곳만 모아서 백트랙킹 + 브루트포스로 모든 곳을 색칠해보려고 하였다.

이 방법이 잘못된 이유 첫번째는 주변에 색칠된 칸이 없다고 해서 고정된 어떤 색을 칠하게 하면 안 된다. 

|                         잘못된 방법                          | 사실은?                                                      |
| :----------------------------------------------------------: | ------------------------------------------------------------ |
| ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/1b9365f1-a67b-4f4b-8944-a29fef0fa379) | ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/1a179301-5c56-40cc-8bcc-f03b3693a7fc) |

위의 그림과 같이 초록색 마킹된 곳을 색칠한다고 했을 때, 주변에 나와 같은 색이 없다고 해서 무조건 지금 색을 색칠해버리고, 같은 색이 있다면 다른 색을 색칠하는 방식으로 구현하면 다음과 같이 2개의 색으로도 색칠이 가능함에도 색칠을 할 수 없는 경우가 생기게 된다.

결국 모든 경우를 다 색칠했다가 복구하고 다시 색칠하고를 반복해야 하는데, 이렇게 하면 절대 시간 안에 풀 수 없다.

#### 올바른 접근법

백트랙킹 + 브루트포스가 아니라 `깊이 우선 탐색`을 통해 순차적으로 주변에 색칠 가능한 곳을 색칠해보되, 현재 색과는 다른 색으로 색칠하는 것이다.

- 깊이 우선 탐색 시작
- 현재 색 `c`를 색칠한다.
- 6방향으로 주변을 탐색하여 색칠 가능한 곳 `X`가 있는지 확인한다.
  - 아직 색칠하지 않은 곳이면 깊이 우선 탐색을 계속 진행해본다.
    - 새로운 색인 `d`를 색칠한다.
      - 6방향으로 주변을 탐색하여 색칠 가능한 곳 `X`가 있는지 확인한다.
        - 아직 색칠하지 않은 곳이면 깊이 우선 탐색을 계속 진행해본다.
          - `d`와는 다른 색인 `c`를 칠한다. (이제 이 과정을 계속 반복한다.)
  - 같은 색 `c`로 색칠된 곳이 있으면 이런 방식으로 탐색해서는 `2`가지 색으로는 절대 칠할 수 없기 때문에 탐색을 종료한다.

|                          초기 상태                           |                            상태 1                            |                            상태 2                            |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/779c1559-7ad6-4ffb-83a0-29e3eb1a2dad) | ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/deb9df9d-6ae7-4404-83b0-6e65d290eb75) | ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/08be9d13-2b7d-4b1a-aa64-b789b730cfc2) |

|                            상태 3                            |                            상태 4                            |                            상태 5                            |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/6cc61fcd-ea73-4e59-b3bb-5a581a48f0df) | ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/a085459e-91ed-4479-b7ad-a1e34eef58f8) | ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/c101206c-05a3-4113-88b4-f20e140e245a) |

<br>

### 언어별 풀이 요약

| 언어   | 메모리   | 실행 시간(ms) | 시간복잡도 | 공간복잡도 | 풀이 시간 | 시도 횟수 | 해설 참고          |
| ------ | -------- | ------------- | ---------- | ---------- | --------- | --------- | ------------------ |
| Python | 31540 KB | 52 ms         | O(N ^ 2)   | O(N ^ 2)   | 100 분    | 6         | :white_check_mark: |
| Java   |          |               |            |            |           |           |                    |
| Kotlin |          |               |            |            |           |           |                    |

<br>

### 예외(테스트) 케이스

```
```

