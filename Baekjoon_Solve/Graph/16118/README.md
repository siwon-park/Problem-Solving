## [골1] 달빛 여우 (16118번)

https://www.acmicpc.net/problem/16118

### 문제 유형

그래프 이론, 다익스트라

<br>

### 어려웠던 점 / 문제의 핵심

문제를 푸는 아이디어는 2개가 존재한다.

#### 진짜 주의해야 할 점

흔히 일반적으로 다익스트라 최단 거리 테이블의 출발점의 비용을 0으로 갱신하는데,

이 문제의 경우 출발지의 비용을 모두 0으로 갱신하게 되면 제대로된 최단 거리를 계산할 수 없는 경우가 있다.

왜냐하면 어떤 특정 한 노드로 갈 수 있는 비용이 압도적으로 클 경우, 이 노드로 가는 비용을 최소화 하기 위해서는 빠른 속도로 이동해야 한다. 이 때 출발지인 `1`을 경유해서 가는 경우가 최소 비용일 수도 있는데, 출발지의 비용을 모두 0으로 갱신하게 되면 그러지 못하는 경우가 있게 된다.

또한 결정적으로 `출발지는 여우와 늑대 둘 다 비용이 같기 때문에 고려하지 않아도 된다!`

#### 2차원의 최단 거리 테이블 이용

늑대의 경우 2차원의 최단 거리 테이블을 선언하고, 2배의 속도로 왔는지 1/2의 속도로 왔는지 구별하여 각 노드까지의 최단 거리를 구한다.

여우의 경우 일반적인 다익스트라 알고리즘을 통해 각 노드별로 최단 거리를 구한다.

늑대와 여우의 최단 거리를 비교하여 여우가 해당 노드에 더 빨리 도달할 수 있는 경우의 수를 카운트하면 된다.

단, 자바로 풀 경우 double형을 쓰기 번거롭다면 입력으로 주어지는 간선 값 자체를 2배로 하고 long형으로 사용하면 보다 편하게 풀 수 있다.

#### 새로운 그래프

매번 2배의 속도로 왔는지, 1/2의 속도로 왔는지 구별할 필요 없이 새로운 연결 관계를 가진 그래프를 만든다.

즉, 정점의 범위를 2N으로 확장시키는 것이다.

```python
graph2[a].append((b + N, d / 2))
graph2[b + N].append((a, d * 2))
graph2[b].append((a + N, d / 2))
graph2[a + N].append((b, d * 2))
```

원리는 간단하다.

`a → b + N`으로 `d / 2`의 비용으로 가는 간선을 연결한다. 그러면 역으로 `b + N → a`로는 `d * 2`의 비용으로 갈 수 있다. 양 방향이기 때문에 한쪽으로 갈 때는 뛰어가고, 돌아올 때는 걸어온다는 식으로 생각하면 편하다. (위 예시에서 `d / 2`, `d * 2`에 대한 순서 차이는 없다. 어차피 양방향 연결 관계이기 때문.)

여우는 일반 `a → b`연결 관계를 가진 그래프로 다익스트라를 돌리고, 늑대는 새롭게 연결한 그래프를 가지고 다익스트라를 돌리면 된다.

늑대의 그래프 간선의 수가 기존 그래프의 2배가 되긴 하지만 위의 경우보다는 널널한 시간 복잡도로 풀 수 있다.

|                         원래 그래프                          |                        새로운 그래프                         |
| :----------------------------------------------------------: | :----------------------------------------------------------: |
| ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/16a580a1-b197-4ddd-ac25-e467dd1d836d) | ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/f27eeb26-fdc2-45f1-8342-5164f8a73d2a) |

<br>

### 언어별 풀이 요약

| 언어   | 메모리    | 실행 시간(ms) | 시간복잡도 | 공간복잡도 | 풀이 시간 | 시도 횟수 | 해설 참고            |
| ------ | --------- | ------------- | ---------- | ---------- | --------- | --------- | -------------------- |
| Python | 185328 KB | 876 ms        | O(ElogV)   | O(EV)      | 100분     | 10        | :white_check_mark:   |
| Java   | 67624 KB  | 904 ms        | O(ElogV)   | O(EV)      | 60분      | 8         | :white_large_square: |
| Kotlin |           |               |            |            |           |           |                      |

<br>

### 예외(테스트) 케이스

```
```

