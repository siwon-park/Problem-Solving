## [플5] 내 왼손에는 흑염룡이 잠들어 있다 (13016번)

https://www.acmicpc.net/problem/13016

### 문제 유형

그래프 이론, 그래프 탐색, 트리, DFS

<br>

### 어려웠던 점 / 문제의 핵심

매번 특정 노드 `i`에서 다른 모든 노드까지의 거리를 구해서 `D[i]`를 구하면 `O(N ^ 2)`이라는 엄청난 시간복잡도가 나온다.

문제를 효율적으로 풀기 위해서는 트리의 가장 긴 지름을 구하는 것이 핵심이다.

트리의 가장 긴 지름을 구하기 위해서는 DFS를 3번만 실행하면 된다.

먼저 1번 노드에서 가장 먼 거리에 있는 노드 A를 찾는다. 그 후 다시, 노드 A에서 가장 먼 거리에 있는 노드 B를 찾는다. 이 때 각 노드에서 출발했을 때의 거리 테이블을 각각 선언하고 갱신해줘야 한다.

각 노드 `i`별로 가장 멀리 떨어져 있는 거리 `D[i]`는 노드 A에서 다른 노드까지의 거리 테이블 `D1`와 노드 B에서 다른 노드까지의 거리 테이블  `D2`에서 `max(D1[i], D2[i])`이다.

이렇게 되는 이유는 다음과 같다.

| 초기 상태                                                    | 트리를 펼침                                                  | 가장 긴 지름을 구함                                          |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/fcaf4666-796d-4f22-a3d9-77320f910610) | ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/cc8baa3e-859e-4203-bb50-7ddc4a87b0b2) | ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/12419504-ddd8-4fd8-8508-cde23cc76943) |

초기 상태에서 트리를 펼쳐서 1번 노드에서 가장 먼 거리의 노드를 구하고 그 후 가장 먼 거리에 있는 노드 A에서 다시 가장 먼 거리에 있는 노드 B를 찾게 되면, 트리의 가장 긴 지름이 된다.

트리 상에서 간선의 수는 N - 1개이고, 한 노드에서 다른 한 노드로 갈 수 있는 길이 반드시 존재한다. 그리고 지름의 개념을 잘 생각해보면 특정 노드 `i`는 결국 지름의 사이에 있는 어떤 노드가 된다.

그렇다는 것은 특정 노드 `i`에서 가장 먼 거리 `D[i]`는 결국 트리의 지름보다 작거나 같을 수밖에 없다. 결국 특정 노드 `i`에서 출발했을 때 가장 먼 거리 `D[i]`는 가장 먼 노드 A와 B에서 출발해서 특정 노드 `i`까지 가기 위한 거리 중 더 먼 거리가  되는 것이다.

<br>

### 언어별 풀이 요약

| 언어   | 메모리   | 실행 시간(ms) | 시간복잡도 | 공간복잡도 | 풀이 시간 | 시도 횟수 | 해설 참고            |
| ------ | -------- | ------------- | ---------- | ---------- | --------- | --------- | -------------------- |
| Python | 50440 KB | 328 ms        | O(3 * N)   | O(3 * N)   | 70 분     | 3         | :white_large_square: |
| Java   | 42628 KB | 544 ms        | O(3 * N)   | O(3 * N)   | 50분      | 1         | :white_large_square: |
| Kotlin |          |               |            |            |           |           |                      |

<br>

### 예외(테스트) 케이스

```
```

