## [골2] 구간 자르기 (2283번)

https://www.acmicpc.net/problem/2283

### 문제 유형

누적 합, 두 포인터, 스위핑

<br>

### 어려웠던 점 / 문제의 핵심

문제 설계는 30분도 안 걸렸는데, 누적 합을 구하는 부분에서 실수가 있어서 이것 때문에 1시간은 넘게 썼다.

풀이 흐름은 누적 합을 구하고 누적 합에 대한 투 포인터로 답을 구할 수 있다. 스위핑으로도 답을 구할 수 있기 때문에 스위핑으로 풀었으면 더 빨리 풀었을 것 같은데, 누적 합과 투 포인터 연습을 위해 이 방식으로 풀었다.

#### 실수했던 점

누적 합을 구하는 부분에서 실수가 있었다. 뭔가 혼동해서 제대로 된 누적 합을 구하기까지 많은 시간이 걸렸다.

보통 누적 합을 구할 때, 0번 인덱스를 비워두고 계산하니 prefix[1] - prefix[0]의 값은 구간 `[0, 0]`에 대한 누적 합이라고 생각했다. 

그런데 여기서 정말 중요한 포인트는 선분의 길이이기 때문에 s와 e가 같다면 그 길이는 무조건 0일 수밖에 없다.

따라서 prefix[1] - prefix[0]의 값은 구간 `[0, 1]`에 대한 구간 합이 된다.

#### 문제 풀이

주어지는 좌표에 대해서 좌표 개수 구간 합을 먼저 구해야 한다. 그렇게 하기 위해서는 구간 `[a, b]`가 주어졌을 때, `a + 1`인덱스에 += 1을 하고, `b + 1`인덱스에 -= 1을 한다. b위치까지만 점이 존재하고 b + 1위치부터는 점이 존재하지 않기 때문에 -1을 하여 누적 합에 반영하는 것이다.

이 때, `a`인덱스에 += 1을 하는 것이 아니라 `a + 1`에 += 1을 하는 이유는 선분 길이의 누적 합을 구하기 위해서이다.

만약 구간에 존재하는 선분의 개수를 구하는 것이었다면 `a`인덱스에 += 1을 해주는 것이 맞지만, 선분 길이의 누적 합을 구해야 하는데 구간 `[a, a]`의 선분 길이는 0이기  때문에 `a + 1`에 += 1을 해주는 것이다.

구간의 점의 개수를 누적 해서 구간의 선분 길이의 누적 합을 구하는데, `a`에 += 1을 해주게 되면 구간 `[a, a]`의 값이 0이 아니기 때문이다.

다시 본론으로 돌아가서, 이렇게 구간의 선분 개수 누적 합을 가지고 다시 누적 합을 계산하여 구간의 선분 길이의 누적 합을 구한다.

그 후 투 포인터를 이용해서 조건에 따라 포인터를 움직여서 답을 구하면 된다. 구간의 선분 길이의 합을 k라 할 때,

- k == K일 경우 A와 B를 갱신하고 break하면 된다.
  - break해도 되는 이유는 s = 0, e = 1에서 출발했기 때문에, 문제에서 요구하는 조건인 `"조건을 만족하는 A, B가 여러 개 존재할 때는 A가 가장 작은 경우를 출력한다. 그것도 여러 개 존재할 때는 B가 가장 작은 경우를 출력한다."`를 무조건적으로 만족하기 때문이다.
- k < K일 경우 e를 오른쪽으로 1칸 옮긴다.
-  k > K일 경우 s를 오른쪽으로 1칸 옮긴다.
  - 이 때 s == e인 경우가 생기기 때문에 만약 s == e가 되는 경우에는 e도 1칸 오른쪽으로 옮겨준다. 어차피 e <= MAX이기 때문에 e가 MAX를 초과해버리면 while문을 빠져나오게 된다.

조건을 만족하는 A와 B가 없을 때 "0 0"을 출력해야 함을 유의.

<br>

### 언어별 풀이 요약

| 언어   | 메모리   | 실행 시간(ms) | 시간복잡도 | 공간복잡도 | 풀이 시간 | 시도 횟수 | 해설 참고            |
| ------ | -------- | ------------- | ---------- | ---------- | --------- | --------- | -------------------- |
| Python |          |               |            |            |           |           |                      |
| Java   | 23748 KB | 312 ms        | O(3N)      | O(N)       | 120 분    | 2         | :white_large_square: |
| Kotlin |          |               |            |            |           |           |                      |

<br>

### 예외(테스트) 케이스

```
```

