## [플4] 집배원 한상덕 (2842번)

[https://www.acmicpc.net/problem/2842]()

### 문제 유형

그래프 이론, 그래프 탐색, BFS, DFS, 이분탐색(매개 변수 탐색), 투 포인터

<br>

### 어려웠던 점 / 문제의 핵심

#### 시행착오

단순 매개 변수 탐색으로 `최댓값 - 최솟값`의 차이를 가지고 BFS 탐색을 하면 될 줄 알았다.

그러나 생각해보면 알겠지만, 이렇게 하면 반례가 많다는 것을 눈치챌 수 있다.

따라서 고정된 값이 하나 필요하다. (최솟값)

#### 풀이1 (이분탐색)

H[i]에 높이의 값들을 중복을 제거하여 담은 다음 정렬을 했다고 가정하자. (배열 H의 길이는 `M`이라고 가정)

H[0]을 최솟값(min)으로 고정시키고 0 ~ M - 1까지 이분 탐색하여 적절한 최댓값(max)를 찾은 다음,

`BFS(min, max)`를 통해 최솟값 ~ 최댓값 사이만 방문하여 탐색이 가능한지 찾는다.

이 풀이로 풀 수는 있지만 시간이 많이 걸린다는 단점이 있다.

#### 풀이2 (투 포인터)

어차피 최솟값이 고정이 필요하다면, 굳이 풀이1과 같은 방법으로 탐색할 필요 없이 투 포인터 탐색으로 더 빨리 끝낼 수도 있다.

일단 P와 K가 있는 위치에 대해서 높이 중에서 `최솟값`과 `최댓값`을 찾는다. 그리고 풀이1에서와 마찬가지로 H[i]에 높이의 값들을 중복을 제거하여 담은 다음 정렬을 했다고 가정하자. (배열 H의 길이는 `M`이라고 가정)

이제 H를 순회하면서 위에서 찾은 최솟값과 최댓값의 최대 인덱스 위치를 찾는다.

이 때, 최솟값의 최대 인덱스를 `maxLeft`라 하고, 최댓값의 최대 인덱스를 `끝 포인터(right)`로 설정한다.

이렇게 하는 이유는 `시작 포인터(left)`는 `0`에서부터 출발하는데, H에 존재하는 가장 최솟값 ~ K와 P가 있는 곳 중 최솟값 사이를 탐색하면 된다. 그 이상으로는 당연히 탐색이 가능하기 때문에 굳이 탐색할 필요가 없는 것이다.

`끝 포인터(right)` 역시 비슷한 원리로 K와 P가 있는 곳 중 최댓값 ~ H에 존재하는 가장 최댓값 사이만 탐색하면 된다.

이제 `left <= right`이고, `left <= maxLeft`이면서, `right < M`인 동안 반복하여 포인터를 옮기면 된다.

- `left <= right`인 이유는 최솟값과 최댓값이 동일할 때 탐색이 가능한 경우도 있기 때문이다.
- `BFS(H[left], H[right])`가 가능할 경우에 `left`를 +1 증가시킨다. 최댓값 - 최솟값을 줄이기 위함.
  - 탐색이 가능할 때만 최댓값을 고정시키고 최댓값 - 최솟값의 차이를 줄이기 위해서 최솟값을 늘리는 것이다.
- 불가능할 경우에는 `right`를 +1 증가시킨다.
  - 최솟값은 늘릴 필요가 없는 게, 늘리지 않아도 탐색이 가능하기 때문이다. 탐색이 불가능한 이유는 최댓값 때문이지, 최솟값 때문은 아니다. 애초에 우리가 최솟값의 적정 범위를 지정했기 때문에 해당 최솟값으로는 무조건 탐색이 가능하다.

<br>

### 언어별 풀이 요약

| 언어   | 메모리    | 실행 시간(ms) | 시간복잡도       | 공간복잡도 | 풀이 시간 | 시도 횟수 | 해설 참고          |
| ------ | --------- | ------------- | ---------------- | ---------- | --------- | --------- | ------------------ |
| Python |           |               |                  |            |           |           |                    |
| Java   | 109968 KB | 536 ms        | O(M * 8 * N ^ 2) | O(N ^ 2)   | 500 분    | 4         | :white_check_mark: |
| Kotlin |           |               |                  |            |           |           |                    |

<br>

### 예외(테스트) 케이스

```
```

