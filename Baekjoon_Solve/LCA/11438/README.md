## [플5] LCA 2 (11438번)

https://www.acmicpc.net/problem/11438

### 문제 유형

자료 구조, 트리, 최소 공통 조상, 희소 배열

<br>

### 어려웠던 점 / 문제의 핵심

문제를 빠른 시간 안에 풀기 위해 희소 배열이라는 개념을 사용해서 LCA를 찾아야 한다.

희소 배열이라고 해서 특별한 알고리즘이나 배열이 있는 것은 아니고, DP의 원리로 부모 배열을 만드는 것이다.

2차원의 부모 배열을 선언하고, `parent[n][k]`를 `n번 노드의 2 ^ k번째 부모`라고 정의한다.

 `2 ^ (k + 1) = 2 ^ k + 2 ^ k`이기 때문에 `n의 2 ^ (k + 1)번째 부모는 n의 2 ^ k번째 부모의 k번째 부모`이다.

이러한 규칙을 활용하여 희소 배열을 구성한다.

그리고 공통 조상을 찾을 때는, 두 노드의 깊이 차이를 비트로 전환했을 때, 1인 비트의 개수만큼 희소 배열을 역행하여 깊이가 같을 때까지 노드를 옮긴다.

그 후 두 노드의 현재 깊이는 같기 때문에, 두 노드의 부모 배열을 탐색하여 인덱스가 같은 곳에 부모가 같으면 해당 노드의 0번째 노드가 부모 노드이다.

단, 자기 자신의 조상은 자신도 포함해야 한다.

<br>

### 언어별 풀이 요약

| 언어   | 메모리    | 실행 시간(ms) | 시간복잡도 | 공간복잡도     | 풀이 시간 | 시도 횟수 | 해설 참고          |
| ------ | --------- | ------------- | ---------- | -------------- | --------- | --------- | ------------------ |
| Python |           |               |            |                |           |           |                    |
| Java   | 103864 KB | 1020 ms       | O(MlogN)   | O(2 ^ (N + 1)) | 60분      | 3         | :white_check_mark: |
| Kotlin |           |               |            |                |           |           |                    |

<br>

### 예외(테스트) 케이스

```
```

