## [플2] LCA와 쿼리 (15480번)

https://www.acmicpc.net/problem/15480

### 문제 유형

트리, 최소 공통 조상, 희소 배열

<br>

### 어려웠던 점 / 문제의 핵심

루트가 `r`일 때의 `lca(u, v)`를 구하는 문제이다.

매번 `r`을 기준으로 희소 배열을 세팅하거나, dfs로 트리의 깊이를 초기화시키는 작업을 할 경우 시간 초과가 날 것이다.

`1`을 기준으로 트리를 구성하여 희소 배열과 `r`, `u`, `v` 간의 `lca`를 구한 다음, 

`r`을 기준으로 트리를 재구성했을 때 어떤 그림이 그려지는지 생각해보면 된다.

결론부터 이야기하면 3개의 lca 중 `깊이가 가장 깊은 lca`가 `r`을 루트로 했을 때 `lca(u, v)`가 된다.

사실 이 규칙은 `1`을 루트로 했을 때도 똑같이 적용된다.

그림을 그려보면 이해가 쉬울 것이다. `u`와 `v`가 어디에 위치하든지 간에 이는 변함이 없다.

<br>

### 언어별 풀이 요약

| 언어   | 메모리    | 실행 시간(ms) | 시간복잡도 | 공간복잡도 | 풀이 시간 | 시도 횟수 | 해설 참고          |
| ------ | --------- | ------------- | ---------- | ---------- | --------- | --------- | ------------------ |
| Python |           |               |            |            |           |           |                    |
| Java   | 108536 KB | 1120 ms       | O(3*MlogN) | O(N)       | 120 분    | 1         | :white_check_mark: |
| Kotlin |           |               |            |            |           |           |                    |

<br>

### 예외(테스트) 케이스

```
```

