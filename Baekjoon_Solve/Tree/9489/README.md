## [골4] 사촌 (9489번)

[https://www.acmicpc.net/problem/9489]()

### 문제 유형

자료 구조, 트리

<br>

### 어려웠던 점 / 문제의 핵심

첫 번째로 주어진 문제의 예시를 이해하는데 어려웠다.

수열이 주어졌을 때, 연속한 수의 집합은 같은 자식 그룹이다. (4번 조건이 먼저 나왔다면 훨씬 이해가 빨랐을 것 같다.)

두 번째로 주어진 수열을 트리로 구성하는 로직을 짜는 것이 어려웠다.

- 연속된 수이면 현재 부모의 자식으로 삽입한다.
- 연속된 수가 아니면 부모 인덱스를 증가시켜 부모를 변경한 다음 해당 부모의 자식으로 삽입한다.

세 번째로 문제에서 원하는 경우의 수를 세는 것이 조금 어려웠다.

어떤 노드의 사촌 수는 `트리 상에서 레벨이 같으면서 부모의 부모가 같은 노드의 수`이다.

입력으로 주어지는 n의 최댓값이 100만이기 때문에 노드 수를 최대 100만으로 잡고 문제를 풀면 메모리와 시간 상으로 손해이다. 주어진 숫자가 아님에도 불구하고 순회를 해야하기 때문이다. 그래서 맵 자료 구조를 사용해서 각 수열에 해당하는 노드 번호를 이용하여 최대 n개의 노드를 사용할 수 있었고, 시간 복잡도와 사용 메모리를 개선할 수 있었다.

#### 자바

메모리 초과를 해결하는데 어려웠다. 문제에서 주어젠 메모리 제한은 `128MB`이다.

그런데 왜 메모리 초과가 났는지 이해할 수 없다.

메모리 초과 코드에서는 int[] 배열 3개와 HashMap, 이중 ArrayList를 사용했는데

이를 int[] 배열 3개만 사용하게끔 하니 겨우 통과할 수 있었다.

n의 크기가 최대 1000이기 때문에 배열 3개에 대한 메모리 크기는 `12KB`밖에 되지 않는다.

그렇다면 나머지 의심가는 HashMap과 ArrayList의 동적 메모리 할당이 문제인데, 정확히 몇을 차지하는 지 모르겠다...

<br>

### 언어별 풀이 요약

| 언어   | 메모리    | 실행 시간(ms) | 시간복잡도 | 공간복잡도 | 풀이 시간 | 시도 횟수 | 해설 참고            |
| ------ | --------- | ------------- | ---------- | ---------- | --------- | --------- | -------------------- |
| Python | 31380 KB  | 2232 ms       | O(N)       | O(N)       | 70분      | 5         | :white_large_square: |
| Java   | 173976 KB | 1056 ms       | O(N)       | O(N)       | 60분      | 4         | :white_large_square: |
| Kotlin |           |               |            |            |           |           |                      |

<br>

### 예외(테스트) 케이스

```
```

